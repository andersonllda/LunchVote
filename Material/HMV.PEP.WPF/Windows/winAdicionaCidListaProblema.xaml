<core:WindowBase 
        x:Class="HMV.PEP.WPF.Windows.winAdicionaCidListaProblema"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:dxd="http://schemas.devexpress.com/winfx/2008/xaml/docking" 
        xmlns:dxe="http://schemas.devexpress.com/winfx/2008/xaml/editors"
        xmlns:dxg="http://schemas.devexpress.com/winfx/2008/xaml/grid" 
        xmlns:core="clr-namespace:HMV.Core.Framework.WPF;assembly=HMV.Core.Framework.WPF"
        Title="Atenção..:: OS CID's NÃO FORAM ADICIONADOS NA LISTA DE PROBLEMAS::.." 
        Height="335" Width="775" WindowStartupLocation="CenterScreen" WindowStyle="ToolWindow" Closing="Window_Closing">
    
    
    <Grid Style="{StaticResource styleGridSite}">
        <Grid.RowDefinitions>
            <RowDefinition Height="32"></RowDefinition>
            <RowDefinition></RowDefinition>
            <RowDefinition Height="40"></RowDefinition>
        </Grid.RowDefinitions>

        <Grid Grid.Row="0">
            <TextBlock Text="Atualizar Lista de Problemas" Style="{StaticResource styleTextBlockTitulo}"/>
        </Grid>

        <Grid Grid.Row="1">
            <dxd:DockLayoutManager x:Name="dockLayoutManagerN1" Grid.Row="0" >
                <dxd:LayoutGroup>
                    <dxd:DocumentGroup AllowClose="False" AllowContextMenu="False" AllowDock="False" AllowDrag="False" AllowHide="False" 
                                       AllowMove="False" AllowRename="False" AllowRestore="False" ClosePageButtonShowMode="InAllTabPageHeaders" 
                                       FloatOnDoubleClick="False" MDIStyle="Tabbed" Name="mdiContainer" Orientation="Horizontal" SelectedTabIndex="0" 
                                       ShowCloseButton="False" ShowControlBox="False" ShowDropDownButton="False" ShowRestoreButton="False" >
                    
                        <dxd:DocumentPanel Caption="Adicionar CID na Lista de Problemas" AllowClose="False">
                            <dxg:GridControl Name="grdListaCids" ItemsSource="{Binding Path=CidMVCollection, UpdateSourceTrigger=PropertyChanged}">
                                <dxg:GridControl.Columns>
                                    <dxg:GridColumn FieldName="Id" Header="CID" Width="25" ReadOnly="True"/>
                                    <dxg:GridColumn FieldName="Descricao" Header="Descrição CID" ReadOnly="True"/>

                                    <dxg:GridColumn FieldName="Incluir" Width="25" >
                                        <dxg:GridColumn.EditSettings>
                                            <dxe:CheckEditSettings/>
                                        </dxg:GridColumn.EditSettings>
                                    </dxg:GridColumn>

                                    <dxg:GridColumn FieldName="NaoIncluir" Header="Não Incluir" Width="25">
                                        <dxg:GridColumn.EditSettings>
                                            <dxe:CheckEditSettings/>
                                        </dxg:GridColumn.EditSettings>
                                    </dxg:GridColumn>
                                    
                                </dxg:GridControl.Columns>
                                <dxg:GridControl.View>
                                    <dxg:TableView Name="tbvListaCids" 
                                                   AutoWidth="True"
                                                   ShowGroupPanel="False" 
                                                   CellValueChanging="tbvListaCids_CellValueChanging"
                                                   FocusedRow="{Binding Path=CidSelecionado, Mode=OneWayToSource}"
                                                   AllowColumnFiltering="False"
                                                   AllowSorting="False"
                                                   Style="{StaticResource styleTableView}"
                                                   />
                                </dxg:GridControl.View>
                            </dxg:GridControl>
                        </dxd:DocumentPanel>                        
                        
                        <dxd:DocumentPanel Caption="LOG de Cancelamentos" AllowClose="False">
                            <dxg:GridControl Name="grdCancelamentos" ItemsSource="{Binding Path=SigaCancelamentoLogCollection, UpdateSourceTrigger=PropertyChanged}">
                                <dxg:GridControl.Columns>
                                    <dxg:GridColumn FieldName="Usuario.cd_usuario" Header="Usuário"/>
                                    <dxg:GridColumn FieldName="Data" Header="Data Cancelamento" FixedWidth="True" Width="130">
                                        <dxg:GridColumn.EditSettings>
                                            <dxe:DateEditSettings Mask="dd/MM/yyyy HH:mm" MaskType="DateTime" MaskUseAsDisplayFormat="True" />
                                        </dxg:GridColumn.EditSettings>
                                    </dxg:GridColumn>
                                </dxg:GridControl.Columns>
                                <dxg:GridControl.View>
                                    <dxg:TableView Name="tbvCancelamentos"
                                                   ShowGroupPanel="False"
                                                   AutoWidth="True"
                                                   AllowColumnFiltering="False"
                                                   AllowSorting="False"
                                                   Style="{StaticResource styleTableView}"
                                                   />
                                </dxg:GridControl.View>
                            </dxg:GridControl>
                        </dxd:DocumentPanel>                        
                    </dxd:DocumentGroup>
                </dxd:LayoutGroup>
            </dxd:DockLayoutManager>
        </Grid>

        <Grid Grid.Row="2">
            <core:HMVButton Command="{Binding Commands.CommandCancelar}" Name="btnCancelar" Style="{StaticResource styleBtnCancelar}" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,6,0" Click="btnCancelar_Click"  />
            <core:HMVButton Command="{Binding Commands.CommandSalvar}" Name="btnSalvar" Style="{StaticResource styleBtnSave}" HorizontalAlignment="Right" VerticalAlignment="Center" Margin="0,0,91,0" />
            <core:HMVButton Command="{Binding Commands.CommandIncluir}" Name="btnIncluir" ButtonText="Novo CID" Style="{StaticResource styleBtnIncluir}" HorizontalAlignment="Left" VerticalAlignment="Center" Width="85" Margin="6,0,0,0" />
        </Grid>
    </Grid>
</core:WindowBase>
